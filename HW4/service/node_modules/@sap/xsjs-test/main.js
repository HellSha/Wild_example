'use strict';

var ftestapp = require('./lib/index.js')
var path = require('path')
var fs = require('fs')

var testdir = process.argv[2]
if(!testdir){
	throw new Error('Missing test dir as input, provide it as program parameter')
}

if(!fs.existsSync(testdir)){
	throw new Error('Test dir does not exist ' + testdir)
}

var xsjs_root = __dirname + '/xsjs'

var testapp = ftestapp({
	rootDirs: [
		testdir,
		xsjs_root
	],

	test : {
		format: "html",
		pattern: ".*[Tt]est"
		//reportdir : "report"
	},
/*
	coverage : {
		reporting : {
			reports : 'cobertura'
		}
	}
*/
})



testapp.runTests();
