function DependencySubstitutorFactory() {

	var HanaObjectTypes = $.import("sap.hana.testtools.mockstar", "hanaObjectTypes").HanaObjectTypes;

	var AnalyticViewDependencySubstitutor = $.import("sap.hana.testtools.mockstar", "analyticViewDependencySubstitutor").AnalyticViewDependencySubstitutor;
	var AttributeViewDependencySubstitutor = $.import("sap.hana.testtools.mockstar", "attributeViewDependencySubstitutor").AttributeViewDependencySubstitutor;
	var GraphicCalcViewDependencySubstitutor = $.import("sap.hana.testtools.mockstar", "graphicCalcViewDependencySubstitutor").GraphicCalcViewDependencySubstitutor;
	var SqlScriptDependencySubstitutor = $.import("sap.hana.testtools.mockstar", "sqlScriptDependencySubstitutor").SqlScriptDependencySubstitutor;
	var ODataDependencySubstitutor = $.import("sap.hana.testtools.mockstar", "oDataDependencySubstitutor").ODataDependencySubstitutor;
	var HdbProcedureDependencySubstitutor = $.import("sap.hana.testtools.mockstar", "hdbProcedureDependencySubstitutor").HdbProcedureDependencySubstitutor;

	var graphicCalcViewDependencySubstitutor = new GraphicCalcViewDependencySubstitutor();
	var sqlScriptDependencySubstitutor = new SqlScriptDependencySubstitutor();
	var analyticViewDependencySubstitutor = new AnalyticViewDependencySubstitutor();
	var attributeViewDependencySubstitutor = new AttributeViewDependencySubstitutor();
	var oDataDependencySubstitutor = new ODataDependencySubstitutor();
	var hdbProcedureDependencySubstitutor = new HdbProcedureDependencySubstitutor(new SqlScriptDependencySubstitutor());
	var nullSubstitutor = {
		execute : function() {
		}
	};

	this.getMatchingSubstitutor = function(hanaObject) {
		switch (hanaObject.type.toString()) {
		case HanaObjectTypes.CALCULATION_VIEW:
			var scriptedCalcViewIndicator = 'calculationScenarioType="SCRIPT_BASED"';

			if (hanaObject.cdata.indexOf(scriptedCalcViewIndicator) === -1) {
				return graphicCalcViewDependencySubstitutor;
			} 
			return sqlScriptDependencySubstitutor;
		case HanaObjectTypes.ANALYTIC_VIEW:
			return analyticViewDependencySubstitutor;
		case HanaObjectTypes.ATTRIBUTE_VIEW:
			return attributeViewDependencySubstitutor;
		case HanaObjectTypes.PROCEDURE:
			return sqlScriptDependencySubstitutor;
		case HanaObjectTypes.ODATA:
			return oDataDependencySubstitutor;
		case HanaObjectTypes.HDBPROCEDURE:
			return hdbProcedureDependencySubstitutor;
		default:
			return nullSubstitutor;
		}
	};

}


module.exports = DependencySubstitutorFactory